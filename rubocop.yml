require:
  - rubocop-rspec
  - rubocop-performance

AllCops:
  NewCops: enable
  # Exclude:
  #   - config/**/*
  ExtraDetails: enable

# Ruby

Layout/LineLength:
  Max: 120

Layout/MultilineMethodCallBraceLayout:
  EnforcedStyle: new_line

Lint/AmbiguousBlockAssociation:
  AllowedMethods: [change not_change]

Metrics/AbcSize:
  Severity: warning
  CountRepeatedAttributes: false # potential change

Metrics/ClassLength:
  Max: 300
  Details: >-
    Look for ways to decrease class size by pulling logic into services, concerns, etc.

Metrics/MethodLength:
  CountAsOne: ["array", "hash", "heredoc", "method_call"]

Metrics/CyclomaticComplexity:
  Severity: warning
  Details: >-
    Look for ways to simplify/refactor the method. Pull logic out into more specific methods.

Metrics/ModuleLength:
  Enabled: false

Metrics/PerceivedComplexity:
  Severity: warning
  Details: >-
    Look for ways to simplify/refactor the method. Pull logic out into more specific methods.

Style/AndOr:
  EnforcedStyle: always
  Details: >-
    And/Or methods have unexpected complexity attached to them. Try not to use them.

Style/Documentation:
  Enabled: false

Style/FrozenStringLiteralComment:
  Details: >-
    Add `# frozen_string_literal: true` to the top of the file.
    Frozen string literals help the memory profile of the application by making strings immutable and register a single time.

Style/NumericLiterals:
  Severity: warning

# RSpec

RSpec/DescribeClass:
  Exclude:
    - "**/spec/features/**/*"
    - "**/spec/requests/**/*"
    - "**/spec/routing/**/*"
    - "**/spec/system/**/*"
    - "**/spec/views/**/*"
  IgnoredMetadata:
    type:
      - request
      - routing
      - view
      - feature
      - system
      - task

RSpec/ExampleLength:
  CountAsOne:
    - array
    - heredoc
    - hash

RSpec/NestedGroups:
  Max: 5

RSpec/PredicateMatcher:
  Enabled: false
